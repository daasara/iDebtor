{% comment %}
This template is for AJAX loading of search results. Allows querying and displaying of results without Page Refresh,
To reduce response time and improve usability
{% endcomment %}

{# Looping through all the customers returned by the query#}
{% for customer in customers %}
  {% for debt in debts %}
        {# Rendering the matches on Bootstrap Well divs#}
        <div class="well">
        <span>National ID Number:  <b>{{ customer.national_id }}</b></span><br>
        <span>Customer Phone:      &nbsp;&nbsp;&nbsp;&nbsp;<b>{{ customer.phone }} </b></span><br>
       <spam>Loan Amount:          &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<b>{{ debt.loan_amount }}</b></spam><br>
       <span>Debt (Balance):          &nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp; <b>{{ debt.loan_balance }}</b></span><br>
        <span>Issued on:          &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<b>{{ debt.loan_issue_date }}</b></spam><br>
       <span>Due on:          &nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp; <b>{{ debt.due_date }}</b></span>

    </div>
    {# {% endif %} #}
    {% endfor %}
{% endfor %}

{# Suppose no customer matches the query, we render a Popup alert #}
{% if not customers %}
   <div class="alert alert-danger alert-dismissable fade in">
   <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
  <span class="sr-only">Error:</span>
  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
 <strong>No One Matching the details you queried has been found</strong> .
</div>

{# This is to allow the Alert to close automatically after 2 seconds #}
<script type="text/javascript">
    window.setTimeout(function() {
    $(".alert").fadeTo(500, 0).slideUp(500, function(){
        $(this).remove(); 
    });
}, 2000);
</script>
{% endif %}


